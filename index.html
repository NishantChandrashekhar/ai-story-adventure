<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Story Adventure</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Main Container -->
  <div class="app-container">
    
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <span style="display: flex; align-items: left; justify-content: left; padding: 10px 0;">
          <svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 36 36" fill="none">
            <!-- Symmetrical Gear -->
            <g transform="translate(2,2)">
              <path
                d="
                  M11 2
                  L13 2 L13.5 4.2 L15.5 5 L17 3 L19 5 L17.8 6.5 L19.8 8.5 L22 8.0 L22 10
                  L19.8 10.5 L21 12.5 L22 13.5 L21 15.5 L19.8 16.5 L22 17 L22 19 L19.8 18.5
                  L17.8 20.5 L19 22 L17 24 L15.5 22 L13.5 22.8 L13 25 L11 25 L10.5 22.8 L8.5 22
                  L7 24 L5 22 L6.2 20.5 L4.2 18.5 L2 19 L2 17 L4.2 16.5 L3 14.5 L2 13.5 L3 11.5
                  L4.2 10.5 L2 10 L2 8 L4.2 8.5 L6.2 6.5 L5 5 L7 3 L8.5 5 L10.5 4.2 L11 2 Z
                "
                fill="#c084fc"
              />
              <circle cx="11.5" cy="13.5" r="3" fill="black"/>
            </g>
          
            <!-- Book -->
            <g transform="translate(18,9)" stroke="#67e8f9" stroke-width="1.5">
              <path d="M0 0h10a2 2 0 0 1 2 2v10a1 1 0 0 1-1 1H0V0z" fill="none"/>
              <path d="M0 0v11a2 2 0 0 0 2 2h10" fill="none"/>
              <line x1="2" y1="3" x2="9" y2="3"/>
              <line x1="2" y1="6" x2="9" y2="6"/>
              <line x1="2" y1="9" x2="9" y2="9"/>
            </g>
          </svg>
          
          
          
        </span>
        <button class="new-story-btn">+ New Story</button>
      </div>
      
      <div class="sidebar-content">
        <div class="story-history">
          <!-- Story history items will be added here -->
        </div>
      </div>
      
      <div class="sidebar-footer">
        <div class="user-profile">
          <div class="user-avatar">ðŸ‘¤</div>
          <span class="user-name" id="userName">Guest</span>
        </div>
      </div>
    </aside>

    <!-- Main Chat Area -->
    <main class="main-content">
      <!-- Chat Header -->
      <header class="chat-header">
        <div class="header-left">
          <h1>AI Story Adventure</h1>
        </div>
        <div class="header-actions">
          <button class="clear-chat-btn">Clear Chat</button>
        </div>
      </header>
      
      <!-- Theme Indicator (now full-width, below header) -->
      <div class="theme-indicator" id="themeIndicator" style="display: none;">
        <span class="theme-icon">ðŸŽ­</span>
        <span class="theme-text" id="themeText">Theme</span>
      </div>

      <!-- Chat Messages Container -->
      <div class="chat-container">
        <div class="messages" id="messages">
          <!-- Messages will be dynamically added here -->
        </div>
      </div>

      <!-- Choice Buttons Container -->
      <div class="choices-container" id="choices">
        <!-- Choice buttons will be dynamically added here -->
      </div>
    </main>
  </div>

  <!-- Start Story Modal -->
  <div class="modal" id="startModal">
    <div class="modal-content">
      <h2>Start Your Adventure</h2>
      <div class="input-group">
        <label for="adventureTheme">Describe your theme for the adventure!</label>
        <textarea 
          id="adventureTheme" 
          placeholder="Describe the type of adventure you want to experience... (e.g., medieval fantasy, sci-fi space exploration, detective mystery, etc.)"
          rows="6"
          maxlength="500"
        ></textarea>
        <div class="char-counter">
          <span id="charCount">0</span>/500 characters
        </div>
      </div>
      <!-- Model Selection Dropdown -->
      <div class="input-group">
        <label for="llmModel">Choose model: </label>
        <select id="llmModel" class="model-dropdown">
          <option value="llama">llama</option>
          <option value="gpt-3.5-turbo">gpt-3.5-turbo</option>
        </select>
      </div>
      <div class="modal-actions">
        <button id="startBtn" class="primary-btn">Begin Adventure</button>
        <button class="secondary-btn" onclick="closeModal()">Cancel</button>
      </div>
    </div>
  </div>

  <script type="module" src="dist/script.js"></script>
</body>
</html>
